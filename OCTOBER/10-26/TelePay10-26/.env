# ============================================================================
# TelePay10-26 Environment Configuration
# ============================================================================
# This .env file contains Secret Manager paths for the TelePay Telegram bot.
# All values point to secrets in Google Cloud Secret Manager.
#
# Working Directory: /TelegramFunnel/OCTOBER/10-26/TelePay10-26
# Main Script: telepay10-26.py
#
# IMPORTANT: This file should be in the same directory as telepay10-26.py
# ============================================================================

# ----------------------------------------------------------------------------
# TELEGRAM BOT CONFIGURATION
# ----------------------------------------------------------------------------
# Path to Telegram bot token in Secret Manager
# The bot token is used to authenticate with Telegram's Bot API
TELEGRAM_BOT_SECRET_NAME=projects/291176869049/secrets/TELEGRAM_BOT_SECRET_NAME/versions/latest

# Path to Telegram bot username in Secret Manager
# Example value: @YourBotUsername
TELEGRAM_BOT_USERNAME=projects/291176869049/secrets/TELEGRAM_BOT_USERNAME/versions/latest

# ----------------------------------------------------------------------------
# NOWPAYMENTS CONFIGURATION
# ----------------------------------------------------------------------------
# Path to NowPayments API token in Secret Manager
# Used to create payment invoices via NowPayments API
PAYMENT_PROVIDER_SECRET_NAME=projects/291176869049/secrets/PAYMENT_PROVIDER_TOKEN/versions/latest

# Path to NowPayments IPN webhook key in Secret Manager
# Used to verify IPN callback signatures from NowPayments
NOWPAYMENT_WEBHOOK_KEY=projects/291176869049/secrets/NOWPAYMENT_WEBHOOK_KEY/versions/latest

# Path to NowPayments IPN callback URL in Secret Manager
# The URL where NowPayments sends IPN notifications
# Example value: https://np-webhook-10-26-291176869049.us-east1.run.app/nowpayments-ipn
NOWPAYMENTS_IPN_CALLBACK_URL=projects/291176869049/secrets/NOWPAYMENTS_IPN_CALLBACK_URL/versions/latest

# ----------------------------------------------------------------------------
# PAYMENT FLOW CONFIGURATION
# ----------------------------------------------------------------------------
# Path to success URL signing key in Secret Manager
# Used to encrypt/sign payment success redirect URLs
SUCCESS_URL_SIGNING_KEY=projects/291176869049/secrets/SUCCESS_URL_SIGNING_KEY/versions/latest

# Path to webhook base URL in Secret Manager
# Base URL for payment success callbacks
# Example value: https://gcwebhook1-10-26-291176869049.us-central1.run.app
WEBHOOK_BASE_URL=projects/291176869049/secrets/WEBHOOK_BASE_URL/versions/latest

# ----------------------------------------------------------------------------
# DATABASE CONFIGURATION (PostgreSQL)
# ----------------------------------------------------------------------------
# Path to database host in Secret Manager
# Example value: 34.xxx.xxx.xxx (Cloud SQL public IP) or /cloudsql/project:region:instance (socket)
DATABASE_HOST_SECRET=projects/291176869049/secrets/DATABASE_HOST_SECRET/versions/latest

# Path to database name in Secret Manager
# Example value: telepaydb
DATABASE_NAME_SECRET=projects/291176869049/secrets/DATABASE_NAME_SECRET/versions/latest

# Path to database username in Secret Manager
# Example value: postgres
DATABASE_USER_SECRET=projects/291176869049/secrets/DATABASE_USER_SECRET/versions/latest

# Path to database password in Secret Manager
DATABASE_PASSWORD_SECRET=projects/291176869049/secrets/DATABASE_PASSWORD_SECRET/versions/latest

# ============================================================================
# USAGE INSTRUCTIONS
# ============================================================================
#
# 1. Ensure you have authenticated with Google Cloud:
#    gcloud auth application-default login
#
# 2. Ensure your account has access to Secret Manager:
#    gcloud projects add-iam-policy-binding telepay-459221 \
#      --member="user:YOUR_EMAIL" \
#      --role="roles/secretmanager.secretAccessor"
#
# 3. Run the bot from the TelePay10-26 directory:
#    cd /mnt/c/Users/YossTech/Desktop/2025/TelegramFunnel/OCTOBER/10-26/TelePay10-26
#    python3 telepay10-26.py
#
# 4. The bot will automatically:
#    - Load environment variables from this .env file
#    - Fetch actual secret values from Google Cloud Secret Manager
#    - Initialize database connection
#    - Start Telegram bot with webhook
#    - Monitor subscriptions for expiration
#
# ============================================================================
# TROUBLESHOOTING
# ============================================================================
#
# If you see "Environment variable X is not set" errors:
#   - Verify this .env file is in the same directory as telepay10-26.py
#   - Check that variable names match exactly (case-sensitive)
#
# If you see "Error fetching secret" errors:
#   - Verify you're authenticated: gcloud auth list
#   - Verify secret exists: gcloud secrets list
#   - Verify you have access: gcloud secrets versions access latest --secret=SECRET_NAME
#
# If database connection fails:
#   - Verify Cloud SQL instance is running
#   - Verify your IP is whitelisted for Cloud SQL
#   - Or use Cloud SQL Auth Proxy for secure connection
#
# ============================================================================
